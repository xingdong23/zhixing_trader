# ğŸ‰ é«˜é¢‘çŸ­çº¿ç­–ç•¥ - é˜¿é‡Œäº‘éƒ¨ç½²å®Œæˆ

## ğŸ“‹ éƒ¨ç½²ä¿¡æ¯

- **æœåŠ¡å™¨**: 101.42.14.209
- **éƒ¨ç½²ç›®å½•**: `/opt/zhixing_trader/bitcoin_trader`
- **Pythonç‰ˆæœ¬**: 3.9.18
- **éƒ¨ç½²æ—¶é—´**: 2024-10-23
- **ç­–ç•¥ç‰ˆæœ¬**: v1.0.0

---

## âœ… éƒ¨ç½²å®Œæˆæ¸…å•

### 1. ä»£ç éƒ¨ç½²
- âœ… é«˜é¢‘ç­–ç•¥æ ¸å¿ƒä»£ç å·²ä¸Šä¼ 
- âœ… æµ‹è¯•æ–‡ä»¶å·²ä¸Šä¼ 
- âœ… é…ç½®æ–‡ä»¶å·²ä¸Šä¼ 
- âœ… æ–‡æ¡£å·²ä¸Šä¼ 

### 2. ç¯å¢ƒé…ç½®
- âœ… Python 3.9.18 å·²å®‰è£…
- âœ… è™šæ‹Ÿç¯å¢ƒå·²åˆ›å»º (`venv/`)
- âœ… æ‰€æœ‰ä¾èµ–å·²å®‰è£…ï¼ˆæ—  ta-libï¼Œä½¿ç”¨ numpy å®ç°ï¼‰
- âœ… ä¾èµ–åˆ—è¡¨: `requirements_high_frequency.txt`

### 3. æ•°æ®åº“é…ç½®
- âœ… MySQL å·²å®‰è£…
- âœ… æ•°æ®åº“ `bitcoin_trader` å·²å­˜åœ¨
- âœ… æ•°æ®åº“è¿æ¥é…ç½®æ­£ç¡®

### 4. API é…ç½®
- âœ… OKX API å¯†é’¥å·²é…ç½®
- âœ… æ¨¡æ‹Ÿç›˜æ¨¡å¼å·²å¯ç”¨ (`OKX_TESTNET=True`)
- âœ… é…ç½®æ–‡ä»¶: `.env`

### 5. ç­–ç•¥é…ç½®
- âœ… ç­–ç•¥å‚æ•°å·²é…ç½®
- âœ… é…ç½®æ–‡ä»¶: `strategy_configs/high_frequency_config.json`
- âœ… åˆå§‹èµ„é‡‘: 300 USDT
- âœ… æ æ†: 3x

### 6. æµ‹è¯•éªŒè¯
- âœ… æ‰€æœ‰å•å…ƒæµ‹è¯•é€šè¿‡ (10/10)
- âœ… æŠ€æœ¯æŒ‡æ ‡è®¡ç®—æ­£ç¡®
- âœ… é£é™©æ§åˆ¶æœºåˆ¶æ­£å¸¸
- âœ… ä»“ä½è®¡ç®—å‡†ç¡®
- âœ… æ­¢æŸæ­¢ç›ˆé€»è¾‘æ­£ç¡®

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### æ–¹å¼1: ç›´æ¥è¿è¡Œï¼ˆå‰å°ï¼‰

```bash
# SSH ç™»å½•æœåŠ¡å™¨
ssh root@101.42.14.209

# è¿›å…¥é¡¹ç›®ç›®å½•
cd /opt/zhixing_trader/bitcoin_trader

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# å¯åŠ¨æ¨¡æ‹Ÿç›˜
python run_high_frequency_strategy.py --mode paper --capital 300
```

### æ–¹å¼2: ä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# SSH ç™»å½•æœåŠ¡å™¨
ssh root@101.42.14.209

# è¿›å…¥é¡¹ç›®ç›®å½•
cd /opt/zhixing_trader/bitcoin_trader

# èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x start_high_frequency.sh

# å¯åŠ¨æ¨¡æ‹Ÿç›˜
./start_high_frequency.sh paper 300

# å¯åŠ¨å®ç›˜ï¼ˆè°¨æ…ï¼ï¼‰
./start_high_frequency.sh live 300
```

### æ–¹å¼3: åå°è¿è¡Œï¼ˆä½¿ç”¨ screenï¼‰

```bash
# åˆ›å»º screen ä¼šè¯
screen -S trading

# è¿›å…¥é¡¹ç›®ç›®å½•
cd /opt/zhixing_trader/bitcoin_trader

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒå¹¶å¯åŠ¨
source venv/bin/activate
python run_high_frequency_strategy.py --mode paper --capital 300

# é€€å‡º screenï¼ˆä¿æŒè¿è¡Œï¼‰
# æŒ‰ Ctrl+Aï¼Œç„¶åæŒ‰ D

# é‡æ–°è¿æ¥ screen
screen -r trading

# åœæ­¢ç­–ç•¥
# åœ¨ screen ä¸­æŒ‰ Ctrl+C

# åˆ é™¤ screen ä¼šè¯
screen -X -S trading quit
```

### æ–¹å¼4: åå°è¿è¡Œï¼ˆä½¿ç”¨ nohupï¼‰

```bash
cd /opt/zhixing_trader/bitcoin_trader
source venv/bin/activate

# åå°è¿è¡Œ
nohup python run_high_frequency_strategy.py --mode paper --capital 300 > logs/trading.log 2>&1 &

# æŸ¥çœ‹è¿›ç¨‹
ps aux | grep run_high_frequency_strategy

# æŸ¥çœ‹æ—¥å¿—
tail -f logs/trading.log

# åœæ­¢è¿›ç¨‹
pkill -f run_high_frequency_strategy.py
```

---

## ğŸ“Š ç›‘æ§å’Œç®¡ç†

### æŸ¥çœ‹æ—¥å¿—

```bash
# å®æ—¶æŸ¥çœ‹æœ€æ–°æ—¥å¿—
tail -f logs/trading_*.log

# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—æ–‡ä»¶
ls -lh logs/

# æŸ¥çœ‹ç‰¹å®šæ—¥æœŸçš„æ—¥å¿—
tail -f logs/trading_paper_20241023_*.log
```

### æŸ¥çœ‹è¿è¡ŒçŠ¶æ€

```bash
# æŸ¥çœ‹è¿›ç¨‹
ps aux | grep run_high_frequency_strategy

# æŸ¥çœ‹èµ„æºå ç”¨
top -p $(pgrep -f run_high_frequency_strategy.py)

# æŸ¥çœ‹ç½‘ç»œè¿æ¥
netstat -anp | grep python
```

### åœæ­¢ç­–ç•¥

```bash
# æ–¹å¼1: å¦‚æœåœ¨å‰å°è¿è¡Œ
# æŒ‰ Ctrl+C

# æ–¹å¼2: æ€æ­»è¿›ç¨‹
pkill -f run_high_frequency_strategy.py

# æ–¹å¼3: å¼ºåˆ¶æ€æ­»
pkill -9 -f run_high_frequency_strategy.py
```

---

## âš™ï¸ é…ç½®æ–‡ä»¶è¯´æ˜

### 1. ç¯å¢ƒé…ç½® (`.env`)

```bash
# æŸ¥çœ‹é…ç½®
cat .env

# ç¼–è¾‘é…ç½®
vi .env
```

**é‡è¦é…ç½®é¡¹**:
- `OKX_API_KEY`: OKX API å¯†é’¥
- `OKX_API_SECRET`: OKX API å¯†é’¥
- `OKX_PASSPHRASE`: OKX API å¯†ç 
- `OKX_TESTNET`: True=æ¨¡æ‹Ÿç›˜, False=å®ç›˜
- `DB_HOST`: æ•°æ®åº“åœ°å€
- `DB_PASSWORD`: æ•°æ®åº“å¯†ç 

### 2. ç­–ç•¥é…ç½® (`strategy_configs/high_frequency_config.json`)

```bash
# æŸ¥çœ‹é…ç½®
cat strategy_configs/high_frequency_config.json

# ç¼–è¾‘é…ç½®
vi strategy_configs/high_frequency_config.json
```

**å¯è°ƒæ•´å‚æ•°**:
- `total_capital`: æ€»èµ„é‡‘
- `leverage`: æ æ†å€æ•°
- `max_daily_profit`: å•æ—¥æœ€å¤§ç›ˆåˆ©
- `max_daily_loss`: å•æ—¥æœ€å¤§äºæŸ
- `max_consecutive_losses`: æœ€å¤§è¿ç»­äºæŸæ¬¡æ•°
- `max_trades_per_day`: æ¯æ—¥æœ€å¤§äº¤æ˜“æ¬¡æ•°

---

## ğŸ”§ å¸¸è§é—®é¢˜

### 1. ä¾èµ–å®‰è£…å¤±è´¥

```bash
# é‡æ–°å®‰è£…ä¾èµ–
cd /opt/zhixing_trader/bitcoin_trader
source venv/bin/activate
pip install -r requirements_high_frequency.txt
```

### 2. æ•°æ®åº“è¿æ¥å¤±è´¥

```bash
# æµ‹è¯•æ•°æ®åº“è¿æ¥
mysql -uroot -pshuzhongren -e "SHOW DATABASES;"

# æ£€æŸ¥ .env é…ç½®
cat .env | grep DB_
```

### 3. OKX API è¿æ¥å¤±è´¥

```bash
# æ£€æŸ¥ API é…ç½®
cat .env | grep OKX_

# æµ‹è¯•ç½‘ç»œè¿æ¥
ping api.okx.com

# æ£€æŸ¥æ˜¯å¦ä½¿ç”¨æ¨¡æ‹Ÿç›˜
# OKX_TESTNET=True è¡¨ç¤ºæ¨¡æ‹Ÿç›˜
```

### 4. ç­–ç•¥æ— æ³•å¯åŠ¨

```bash
# æŸ¥çœ‹è¯¦ç»†é”™è¯¯
python run_high_frequency_strategy.py --mode paper --capital 300

# è¿è¡Œæµ‹è¯•
python test_high_frequency_strategy.py

# æ£€æŸ¥æ—¥å¿—
tail -100 logs/trading_*.log
```

---

## âš ï¸ é‡è¦æé†’

### æ¨¡æ‹Ÿç›˜æµ‹è¯•ï¼ˆå¿…é¡»ï¼ï¼‰

1. **è‡³å°‘è¿è¡Œ1å‘¨æ¨¡æ‹Ÿç›˜**
2. **è§‚å¯Ÿç­–ç•¥è¡¨ç°**:
   - èƒœç‡æ˜¯å¦è¾¾åˆ° 55-65%
   - æ—¥æ”¶ç›Šæ˜¯å¦åœ¨ 2-4%
   - æœ€å¤§å›æ’¤æ˜¯å¦æ§åˆ¶åœ¨ 8% ä»¥å†…
   - äº¤æ˜“é¢‘ç‡æ˜¯å¦åœ¨ 3-8 æ¬¡/å¤©

3. **è®°å½•å’Œåˆ†æ**:
   - æ¯æ—¥äº¤æ˜“è®°å½•
   - ç›ˆäºåˆ†å¸ƒ
   - æœ€å¤§è¿ç»­äºæŸ
   - ç­–ç•¥æ‰§è¡Œæƒ…å†µ

### å®ç›˜äº¤æ˜“ï¼ˆè°¨æ…ï¼ï¼‰

1. **å°èµ„é‡‘èµ·æ­¥**: å»ºè®® 100-300 USDT
2. **ä¸¥æ ¼é£æ§**: ä¸è¦ä¿®æ”¹é£æ§å‚æ•°
3. **æŒç»­ç›‘æ§**: æ¯å¤©æ£€æŸ¥äº¤æ˜“æƒ…å†µ
4. **åŠæ—¶æ­¢æŸ**: å‘ç°å¼‚å¸¸ç«‹å³åœæ­¢
5. **ä¿æŒçºªå¾‹**: ä¸è¦æƒ…ç»ªåŒ–æ“ä½œ

### é£é™©å£°æ˜

- âš ï¸ åŠ å¯†è´§å¸å¸‚åœºæ³¢åŠ¨æå¤§
- âš ï¸ å¯èƒ½æŸå¤±å…¨éƒ¨æœ¬é‡‘
- âš ï¸ è¿‡å»è¡¨ç°ä¸ä»£è¡¨æœªæ¥æ”¶ç›Š
- âš ï¸ éœ€è¦ç¨³å®šçš„ç½‘ç»œç¯å¢ƒ
- âš ï¸ éœ€è¦æŒç»­ç›‘æ§å’Œä¼˜åŒ–

---

## ğŸ“ˆ æ€§èƒ½ç›‘æ§

### å…³é”®æŒ‡æ ‡

```bash
# æŸ¥çœ‹äº¤æ˜“ç»Ÿè®¡
grep "ç»Ÿè®¡ä¿¡æ¯" logs/trading_*.log | tail -20

# æŸ¥çœ‹ç›ˆäºæƒ…å†µ
grep "ç›ˆäº" logs/trading_*.log | tail -20

# æŸ¥çœ‹é£æ§è§¦å‘
grep "é£é™©æ§åˆ¶" logs/trading_*.log | tail -20
```

### æ•°æ®åº“æŸ¥è¯¢

```bash
# ç™»å½•æ•°æ®åº“
mysql -uroot -pshuzhongren bitcoin_trader

# æŸ¥çœ‹è®¢å•
SELECT * FROM orders ORDER BY created_at DESC LIMIT 10;

# æŸ¥çœ‹æŒä»“
SELECT * FROM positions WHERE status='open';

# æŸ¥çœ‹ç­–ç•¥ç»Ÿè®¡
SELECT * FROM strategies WHERE name='HighFrequencyScalpingStrategy';
```

---

## ğŸ”„ æ›´æ–°ç­–ç•¥

### æœ¬åœ°ä¿®æ”¹ä»£ç åæ›´æ–°

```bash
# æœ¬åœ°æäº¤ä»£ç 
git add .
git commit -m "update: ä¼˜åŒ–ç­–ç•¥å‚æ•°"
git push origin main

# æœåŠ¡å™¨æ›´æ–°ï¼ˆå¦‚æœ GitHub å¯è®¿é—®ï¼‰
ssh root@101.42.14.209
cd /opt/zhixing_trader
git pull origin main

# æˆ–è€…é‡æ–°æ‰“åŒ…ä¸Šä¼ 
# æœ¬åœ°
tar -czf /tmp/update.tar.gz bitcoin_trader/
scp /tmp/update.tar.gz root@101.42.14.209:/tmp/

# æœåŠ¡å™¨
cd /opt/zhixing_trader
tar -xzf /tmp/update.tar.gz
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### æ—¥å¿—ä½ç½®
- äº¤æ˜“æ—¥å¿—: `/opt/zhixing_trader/bitcoin_trader/logs/`
- ç³»ç»Ÿæ—¥å¿—: `/var/log/`

### å¤‡ä»½å»ºè®®
- å®šæœŸå¤‡ä»½æ•°æ®åº“
- å®šæœŸå¤‡ä»½æ—¥å¿—æ–‡ä»¶
- å®šæœŸå¤‡ä»½é…ç½®æ–‡ä»¶

---

## âœ… éƒ¨ç½²éªŒè¯

è¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯éƒ¨ç½²:

```bash
ssh root@101.42.14.209 << 'EOF'
cd /opt/zhixing_trader/bitcoin_trader
source venv/bin/activate
echo "=== Python ç‰ˆæœ¬ ==="
python --version
echo ""
echo "=== ä¾èµ–æ£€æŸ¥ ==="
pip list | grep -E "(ccxt|pandas|numpy|sqlalchemy)"
echo ""
echo "=== æµ‹è¯•è¿è¡Œ ==="
python test_high_frequency_strategy.py
echo ""
echo "=== é…ç½®æ£€æŸ¥ ==="
cat .env | grep -E "(OKX|DB)" | grep -v "SECRET\|PASSWORD"
echo ""
echo "âœ… éƒ¨ç½²éªŒè¯å®Œæˆï¼"
EOF
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥

1. âœ… éƒ¨ç½²å®Œæˆ
2. â³ å¯åŠ¨æ¨¡æ‹Ÿç›˜æµ‹è¯•ï¼ˆå»ºè®®1å‘¨ï¼‰
3. â³ åˆ†ææ¨¡æ‹Ÿç›˜æ•°æ®
4. â³ ä¼˜åŒ–ç­–ç•¥å‚æ•°
5. â³ å°èµ„é‡‘å®ç›˜æµ‹è¯•
6. â³ é€æ­¥å¢åŠ èµ„é‡‘

---

**ç¥äº¤æ˜“é¡ºåˆ©ï¼ğŸš€**

è®°ä½ï¼šçŸ­çº¿äº¤æ˜“çš„æ ¸å¿ƒæ˜¯çºªå¾‹å’Œæ‰§è¡ŒåŠ›ï¼Œä¸æ˜¯é¢„æµ‹ç²¾åº¦ï¼
