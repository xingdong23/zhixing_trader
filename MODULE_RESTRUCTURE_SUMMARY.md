# ğŸ“‹ æ¨¡å—é‡æ„æ€»ç»“ - V3.0

**æ—¥æœŸ**: 2025-11-05  
**ç‰ˆæœ¬**: V3.0

---

## ğŸ¯ é‡æ„ç›®æ ‡

å°†ç³»ç»Ÿæ¨¡å—é‡å‘½åä»¥æ›´æ¸…æ™°åœ°ä½“ç°å…¶ç”¨é€”ï¼Œå¹¶æ–°å¢ç»Ÿä¸€å›æµ‹æ¨¡å—æ”¯æŒè‚¡ç¥¨å’ŒåŠ å¯†è´§å¸çš„ç­–ç•¥å›æµ‹ã€‚

---

## ğŸ“¦ æ¨¡å—é‡å‘½å

### 1. bitcoin_trader â†’ crypto_strategy_trading
**åŸåç§°**: `bitcoin_trader`  
**æ–°åç§°**: `crypto_strategy_trading` (åŠ å¯†è´§å¸ç­–ç•¥äº¤æ˜“)

**ç”¨é€”**:
- åŠ å¯†è´§å¸äº¤æ˜“ç­–ç•¥ç ”ç©¶
- ç­–ç•¥å›æµ‹
- å®ç›˜äº¤æ˜“ï¼ˆOKXäº¤æ˜“æ‰€ï¼‰

**æ ¸å¿ƒåŠŸèƒ½**:
- EMAè¶‹åŠ¿ç­–ç•¥
- é«˜é¢‘äº¤æ˜“ç­–ç•¥
- å¸ƒæ—å¸¦ç­–ç•¥
- å®Œæ•´çš„å›æµ‹ç³»ç»Ÿ
- å®ç›˜äº¤æ˜“æ”¯æŒ

---

### 2. market_data_service â†’ stock_market_data
**åŸåç§°**: `market_data_service`  
**æ–°åç§°**: `stock_market_data` (è‚¡ç¥¨è¡Œæƒ…æ•°æ®)

**ç”¨é€”**:
- è‚¡ç¥¨å¸‚åœºæ•°æ®è·å–
- å¤šæ•°æ®æºç®¡ç†
- æ•°æ®æ¸…æ´—å’Œé¢„å¤„ç†

**æ ¸å¿ƒåŠŸèƒ½**:
- Yahoo Finance é›†æˆ
- Alpha Vantage é›†æˆ
- Twelve Data é›†æˆ
- æ™ºèƒ½æ•°æ®æºåˆ‡æ¢
- å¤šè´¦æˆ·è´Ÿè½½å‡è¡¡

---

### 3. quant_trading â†’ stock_strategy_trading
**åŸåç§°**: `quant_trading`  
**æ–°åç§°**: `stock_strategy_trading` (è‚¡ç¥¨ç­–ç•¥äº¤æ˜“)

**ç”¨é€”**:
- è‚¡ç¥¨äº¤æ˜“ç­–ç•¥ç ”ç©¶
- ç­–ç•¥æ‰§è¡Œ
- å®ç›˜äº¤æ˜“

**æ ¸å¿ƒåŠŸèƒ½**:
- çŸ­æœŸæŠ€æœ¯ç­–ç•¥
- ç¾è‚¡é¾™å¤´ç­–ç•¥
- æ³¢æ®µäº¤æ˜“ç­–ç•¥
- ç¨³å¥ç›ˆåˆ©ç­–ç•¥
- ç­–ç•¥æ‰§è¡Œå¼•æ“

---

## ğŸ†• æ–°å¢æ¨¡å—

### unified_backtesting (ç»Ÿä¸€å›æµ‹æ¨¡å—)

**ç”¨é€”**:
- æä¾›ç»Ÿä¸€çš„å›æµ‹æ¥å£
- æ”¯æŒè‚¡ç¥¨å’ŒåŠ å¯†è´§å¸ç­–ç•¥å›æµ‹
- æ€§èƒ½æŒ‡æ ‡åˆ†æ
- å›æµ‹æŠ¥å‘Šç”Ÿæˆ

**æ ¸å¿ƒæ¶æ„**:

```
unified_backtesting/
â”œâ”€â”€ core/                    # æ ¸å¿ƒå¼•æ“
â”‚   â”œâ”€â”€ engine.py           # å›æµ‹å¼•æ“
â”‚   â”œâ”€â”€ portfolio.py        # æŠ•èµ„ç»„åˆç®¡ç†
â”‚   â”œâ”€â”€ order.py            # è®¢å•ç®¡ç†
â”‚   â””â”€â”€ position.py         # æŒä»“ç®¡ç†
â”œâ”€â”€ data/                    # æ•°æ®ç®¡ç†
â”‚   â””â”€â”€ data_loader.py      # æ•°æ®åŠ è½½å™¨
â”œâ”€â”€ strategy/                # ç­–ç•¥æ¥å£
â”‚   â”œâ”€â”€ base.py             # ç­–ç•¥åŸºç±»
â”‚   â””â”€â”€ adapter.py          # ç­–ç•¥é€‚é…å™¨
â”œâ”€â”€ analysis/                # æ€§èƒ½åˆ†æ
â”‚   â”œâ”€â”€ metrics.py          # æ€§èƒ½æŒ‡æ ‡
â”‚   â””â”€â”€ report.py           # æŠ¥å‘Šç”Ÿæˆ
â”œâ”€â”€ visualization/           # å¯è§†åŒ–ï¼ˆå¾…å®ç°ï¼‰
â””â”€â”€ utils/                   # å·¥å…·å‡½æ•°
```

**æ ¸å¿ƒç±»**:

1. **BacktestEngine** - å›æµ‹å¼•æ“
   - æ‰§è¡Œå›æµ‹æµç¨‹
   - ç®¡ç†æ•°æ®å’Œç­–ç•¥
   - ç”Ÿæˆå›æµ‹ç»“æœ

2. **Portfolio** - æŠ•èµ„ç»„åˆ
   - ç®¡ç†ç°é‡‘å’ŒæŒä»“
   - å¤„ç†ä¹°å–è®¢å•
   - è®¡ç®—æ€»èµ„äº§ä»·å€¼

3. **Order** - è®¢å•ç®¡ç†
   - è®¢å•ç±»å‹ï¼ˆå¸‚ä»·å•ã€é™ä»·å•ç­‰ï¼‰
   - è®¢å•çŠ¶æ€ç®¡ç†
   - æˆäº¤ä»·æ ¼å’Œæ‰‹ç»­è´¹

4. **Position** - æŒä»“ç®¡ç†
   - æŒä»“æ•°é‡å’Œæˆæœ¬
   - æœªå®ç°ç›ˆäº
   - æŒä»“ä»·å€¼è®¡ç®—

5. **PerformanceMetrics** - æ€§èƒ½æŒ‡æ ‡
   - æ€»æ”¶ç›Šç‡
   - å¹´åŒ–æ”¶ç›Šç‡
   - å¤æ™®æ¯”ç‡
   - æœ€å¤§å›æ’¤
   - èƒœç‡å’Œç›ˆäºæ¯”

6. **BaseStrategy** - ç­–ç•¥åŸºç±»
   - ç»Ÿä¸€çš„ç­–ç•¥æ¥å£
   - ä¿¡å·ç”Ÿæˆæ–¹æ³•
   - ç”Ÿå‘½å‘¨æœŸé’©å­

7. **StrategyAdapter** - ç­–ç•¥é€‚é…å™¨
   - é€‚é…è‚¡ç¥¨ç­–ç•¥
   - é€‚é…åŠ å¯†è´§å¸ç­–ç•¥
   - è½¬æ¢ä¸ºç»Ÿä¸€æ ¼å¼

**ä½¿ç”¨ç¤ºä¾‹**:

```python
from unified_backtesting import BacktestEngine
from unified_backtesting.data import DataLoader
from unified_backtesting.strategy import StrategyAdapter

# åˆ›å»ºå›æµ‹å¼•æ“
engine = BacktestEngine(
    initial_capital=100000,
    commission=0.001,
    slippage=0.0005
)

# åŠ è½½æ•°æ®
data_loader = DataLoader()
data = data_loader.load("AAPL", start="2023-01-01", end="2024-01-01")

# åŠ è½½ç­–ç•¥
strategy = StrategyAdapter.from_stock_strategy("short_term_technical")

# è¿è¡Œå›æµ‹
results = engine.run(data, strategy)

# æŸ¥çœ‹ç»“æœ
print(f"æ€»æ”¶ç›Šç‡: {results.total_return:.2%}")
print(f"å¤æ™®æ¯”ç‡: {results.sharpe_ratio:.2f}")
print(f"æœ€å¤§å›æ’¤: {results.max_drawdown:.2%}")
```

---

## ğŸ“Š ç³»ç»Ÿæ¶æ„å¯¹æ¯”

### V2.0 æ¶æ„
```
zhixing_trader/
â”œâ”€â”€ trading_journal/          # äº¤æ˜“æ—¥å¿—
â”œâ”€â”€ quant_trading/            # é‡åŒ–äº¤æ˜“ï¼ˆè‚¡ç¥¨ï¼‰
â”œâ”€â”€ market_data_service/      # å¸‚åœºæ•°æ®
â”œâ”€â”€ bitcoin_trader/           # æ¯”ç‰¹å¸äº¤æ˜“
â””â”€â”€ zhixing_fronted/          # å‰ç«¯
```

### V3.0 æ¶æ„ (å½“å‰)
```
zhixing_trader/
â”œâ”€â”€ trading_journal/              # äº¤æ˜“æ—¥å¿—
â”œâ”€â”€ stock_strategy_trading/       # è‚¡ç¥¨ç­–ç•¥äº¤æ˜“ âœ¨
â”œâ”€â”€ stock_market_data/            # è‚¡ç¥¨è¡Œæƒ…æ•°æ® âœ¨
â”œâ”€â”€ crypto_strategy_trading/      # åŠ å¯†è´§å¸ç­–ç•¥äº¤æ˜“ âœ¨
â”œâ”€â”€ unified_backtesting/          # ç»Ÿä¸€å›æµ‹æ¨¡å— ğŸ†•
â””â”€â”€ zhixing_fronted/              # å‰ç«¯
```

---

## ğŸ”„ è¿ç§»æŒ‡å—

### ä»£ç å¼•ç”¨æ›´æ–°

å¦‚æœä½ çš„ä»£ç ä¸­æœ‰å¼•ç”¨æ—§æ¨¡å—åç§°ï¼Œéœ€è¦æ›´æ–°ï¼š

**Python å¯¼å…¥**:
```python
# æ—§ä»£ç 
from bitcoin_trader.strategies import EMAStrategy
from market_data_service.providers import YahooProvider
from quant_trading.app.core.strategy import ShortTermStrategy

# æ–°ä»£ç 
from crypto_strategy_trading.strategies import EMAStrategy
from stock_market_data.providers import YahooProvider
from stock_strategy_trading.app.core.strategy import ShortTermStrategy
```

**å‘½ä»¤è¡Œè·¯å¾„**:
```bash
# æ—§å‘½ä»¤
cd bitcoin_trader && python live_trading/ema_simple_trend.py
cd market_data_service && python examples/quick_start.py
cd quant_trading && python run.py

# æ–°å‘½ä»¤
cd crypto_strategy_trading && python live_trading/ema_simple_trend.py
cd stock_market_data && python examples/quick_start.py
cd stock_strategy_trading && python run.py
```

---

## âœ… ä¼˜åŠ¿

### 1. æ›´æ¸…æ™°çš„æ¨¡å—èŒè´£
- æ¨¡å—åç§°ç›´æ¥åæ˜ å…¶åŠŸèƒ½
- è‚¡ç¥¨å’ŒåŠ å¯†è´§å¸æ¨¡å—åˆ†ç¦»æ˜ç¡®
- ä¾¿äºæ–°æˆå‘˜ç†è§£ç³»ç»Ÿæ¶æ„

### 2. ç»Ÿä¸€çš„å›æµ‹æ¥å£
- ä¸€å¥—å›æµ‹ç³»ç»Ÿæ”¯æŒå¤šç§èµ„äº§ç±»å‹
- å‡å°‘é‡å¤ä»£ç 
- ä¾¿äºç­–ç•¥å¯¹æ¯”å’Œä¼˜åŒ–

### 3. æ›´å¥½çš„å¯æ‰©å±•æ€§
- æ–°å¢èµ„äº§ç±»å‹åªéœ€æ·»åŠ é€‚é…å™¨
- å›æµ‹åŠŸèƒ½ç»Ÿä¸€ç»´æŠ¤
- ä¾¿äºæ·»åŠ æ–°çš„æ€§èƒ½æŒ‡æ ‡

### 4. ä¸“ä¸šåŒ–åˆ†å·¥
- æ•°æ®è·å–ç‹¬ç«‹æ¨¡å—
- ç­–ç•¥ç ”ç©¶ç‹¬ç«‹æ¨¡å—
- å›æµ‹åˆ†æç‹¬ç«‹æ¨¡å—

---

## ğŸš€ ä¸‹ä¸€æ­¥è®¡åˆ’

### çŸ­æœŸ (1-2å‘¨)
- [ ] å®Œå–„ `unified_backtesting` çš„æ•°æ®åŠ è½½åŠŸèƒ½
- [ ] å®ç°ç­–ç•¥é€‚é…å™¨çš„å…·ä½“é€»è¾‘
- [ ] æ·»åŠ æ›´å¤šæ€§èƒ½æŒ‡æ ‡
- [ ] å®Œå–„å¯è§†åŒ–æŠ¥å‘Š

### ä¸­æœŸ (1-2æœˆ)
- [ ] å‚æ•°ä¼˜åŒ–åŠŸèƒ½
- [ ] è’™ç‰¹å¡æ´›æ¨¡æ‹Ÿ
- [ ] å¤šç­–ç•¥ç»„åˆå›æµ‹
- [ ] å®æ—¶å›æµ‹åŠŸèƒ½

### é•¿æœŸ (3-6æœˆ)
- [ ] åˆ†å¸ƒå¼å›æµ‹
- [ ] æœºå™¨å­¦ä¹ ç­–ç•¥é›†æˆ
- [ ] äº‘ç«¯éƒ¨ç½²
- [ ] Webç•Œé¢é›†æˆ

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ—§æ¨¡å—ç›®å½•å·²é‡å‘½å**ï¼Œå¦‚æœæœ‰è„šæœ¬æˆ–é…ç½®æ–‡ä»¶å¼•ç”¨æ—§è·¯å¾„ï¼Œéœ€è¦æ›´æ–°

2. **ç»Ÿä¸€å›æµ‹æ¨¡å—æ˜¯æ–°å¢çš„**ï¼Œç›®å‰æä¾›äº†åŸºç¡€æ¶æ„å’Œé¡¶å±‚ç±»ï¼Œå…·ä½“å®ç°éœ€è¦é€æ­¥å®Œå–„

3. **ç­–ç•¥é€‚é…å™¨**ä¸­çš„ TODO éƒ¨åˆ†éœ€è¦æ ¹æ®å®é™…çš„ç­–ç•¥æ¥å£æ¥å®ç°

4. **æ•°æ®åŠ è½½å™¨**éœ€è¦æ ¹æ®å®é™…çš„æ•°æ®æºæ¥å®ç°å…·ä½“é€»è¾‘

5. **Markdown lint è­¦å‘Š**æ˜¯æ ¼å¼é—®é¢˜ï¼Œä¸å½±å“åŠŸèƒ½ï¼Œå¯ä»¥åç»­ç»Ÿä¸€ä¿®å¤

---

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- æäº¤ GitHub Issue
- æŸ¥çœ‹å„æ¨¡å—çš„ README.md æ–‡æ¡£

---

**æœ€åæ›´æ–°**: 2025-11-05  
**ç‰ˆæœ¬**: V3.0  
**çŠ¶æ€**: âœ… é‡æ„å®Œæˆ
