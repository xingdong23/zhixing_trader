# ğŸ“Š è‚¡ç¥¨æ•°æ®æºè°ƒç ”æŠ¥å‘Š

> ä¸ºå®ç°å¤šæ•°æ®æºæ™ºèƒ½åˆ‡æ¢ï¼Œè°ƒç ”ä¸»æµå…è´¹æ•°æ®API

---

## ğŸ¯ è°ƒç ”ç›®æ ‡

- æ‰¾åˆ°å¯é çš„å…è´¹æ•°æ®æº
- è¯„ä¼°APIé™é¢å’Œè´¨é‡
- è®¾è®¡æ™ºèƒ½è½®è¯¢ç­–ç•¥
- æœ€å¤§åŒ–æ•°æ®è·å–èƒ½åŠ›

---

## ğŸ“‹ æ•°æ®æºå¯¹æ¯”

### 1. âœ… Alpha Vantage (å·²é›†æˆ)

**å®˜ç½‘**: https://www.alphavantage.co/

**å…è´¹é¢åº¦**:
- 500æ¬¡/å¤©
- 5æ¬¡/åˆ†é’Ÿ
- æ— éœ€ä¿¡ç”¨å¡

**æ•°æ®è´¨é‡**: â­â­â­â­â­

**æ”¯æŒå¸‚åœº**: ç¾è‚¡ã€å…¨çƒè‚¡ç¥¨

**ä¼˜ç‚¹**:
- âœ… æ•°æ®è´¨é‡é«˜
- âœ… APIç¨³å®š
- âœ… æ–‡æ¡£å®Œå–„
- âœ… æ”¯æŒå¤šç§æ—¶é—´çº§åˆ«

**ç¼ºç‚¹**:
- âš ï¸ é™é¢è¾ƒå°‘

**è¯„åˆ†**: 9/10

---

### 2. ğŸ†• Finnhub

**å®˜ç½‘**: https://finnhub.io/

**å…è´¹é¢åº¦**:
- 60æ¬¡/åˆ†é’Ÿ â­â­â­â­â­
- æ— æ—¥é™åˆ¶
- éœ€è¦æ³¨å†Œ

**æ•°æ®è´¨é‡**: â­â­â­â­â­

**æ”¯æŒå¸‚åœº**: ç¾è‚¡ã€å…¨çƒè‚¡ç¥¨

**ä¼˜ç‚¹**:
- âœ… å…è´¹é¢åº¦å¤§ï¼ˆ60æ¬¡/åˆ†é’Ÿï¼‰
- âœ… å®æ—¶æ•°æ®
- âœ… WebSocketæ”¯æŒ
- âœ… æ–°é—»ã€è´¢æŠ¥æ•°æ®

**ç¼ºç‚¹**:
- âš ï¸ å†å²æ•°æ®æœ‰é™

**APIç¤ºä¾‹**:
```python
# è·å–è‚¡ç¥¨æŠ¥ä»·
GET https://finnhub.io/api/v1/quote?symbol=AAPL&token={API_KEY}

# è·å–Kçº¿æ•°æ®
GET https://finnhub.io/api/v1/stock/candle?symbol=AAPL&resolution=D&from=1572651390&to=1575243390&token={API_KEY}
```

**è¯„åˆ†**: 9.5/10 â­ **å¼ºçƒˆæ¨è**

---

### 3. ğŸ†• Twelve Data

**å®˜ç½‘**: https://twelvedata.com/

**å…è´¹é¢åº¦**:
- 800æ¬¡/å¤© â­â­â­â­
- 8æ¬¡/åˆ†é’Ÿ
- æ— éœ€ä¿¡ç”¨å¡

**æ•°æ®è´¨é‡**: â­â­â­â­â­

**æ”¯æŒå¸‚åœº**: è‚¡ç¥¨ã€å¤–æ±‡ã€åŠ å¯†è´§å¸

**ä¼˜ç‚¹**:
- âœ… å…è´¹é¢åº¦å……è¶³
- âœ… æ”¯æŒå¤šç§èµ„äº§
- âœ… WebSocketå®æ—¶æ•°æ®
- âœ… æŠ€æœ¯æŒ‡æ ‡å†…ç½®

**ç¼ºç‚¹**:
- âš ï¸ éƒ¨åˆ†é«˜çº§åŠŸèƒ½æ”¶è´¹

**APIç¤ºä¾‹**:
```python
# æ—¶é—´åºåˆ—æ•°æ®
GET https://api.twelvedata.com/time_series?symbol=AAPL&interval=1day&apikey={API_KEY}

# å®æ—¶æŠ¥ä»·
GET https://api.twelvedata.com/price?symbol=AAPL&apikey={API_KEY}
```

**è¯„åˆ†**: 9/10 â­ **å¼ºçƒˆæ¨è**

---

### 4. ğŸ†• Polygon.io

**å®˜ç½‘**: https://polygon.io/

**å…è´¹é¢åº¦**:
- 5æ¬¡/åˆ†é’Ÿ
- æ— æ—¥é™åˆ¶
- éœ€è¦æ³¨å†Œ

**æ•°æ®è´¨é‡**: â­â­â­â­â­

**æ”¯æŒå¸‚åœº**: ç¾è‚¡

**ä¼˜ç‚¹**:
- âœ… æ•°æ®è´¨é‡æé«˜
- âœ… æœºæ„çº§æ•°æ®
- âœ… æ”¯æŒå†å²æ•°æ®
- âœ… RESTful + WebSocket

**ç¼ºç‚¹**:
- âš ï¸ å…è´¹é¢åº¦è¾ƒå°‘
- âš ï¸ ä»…ç¾è‚¡

**APIç¤ºä¾‹**:
```python
# èšåˆKçº¿
GET https://api.polygon.io/v2/aggs/ticker/AAPL/range/1/day/2023-01-09/2023-02-10?apiKey={API_KEY}

# æœ€æ–°æŠ¥ä»·
GET https://api.polygon.io/v2/last/trade/AAPL?apiKey={API_KEY}
```

**è¯„åˆ†**: 8.5/10

---

### 5. ğŸ†• Financial Modeling Prep

**å®˜ç½‘**: https://site.financialmodelingprep.com/

**å…è´¹é¢åº¦**:
- 250æ¬¡/å¤©
- æ— åˆ†é’Ÿé™åˆ¶
- éœ€è¦æ³¨å†Œ

**æ•°æ®è´¨é‡**: â­â­â­â­

**æ”¯æŒå¸‚åœº**: ç¾è‚¡ã€å…¨çƒè‚¡ç¥¨

**ä¼˜ç‚¹**:
- âœ… è´¢åŠ¡æ•°æ®ä¸°å¯Œ
- âœ… åŸºæœ¬é¢æ•°æ®
- âœ… APIç®€å•æ˜“ç”¨
- âœ… æ”¯æŒå†å²æ•°æ®

**ç¼ºç‚¹**:
- âš ï¸ æ—¥é™é¢è¾ƒå°‘
- âš ï¸ å®æ—¶æ€§ä¸€èˆ¬

**APIç¤ºä¾‹**:
```python
# å†å²Kçº¿
GET https://financialmodelingprep.com/api/v3/historical-price-full/AAPL?apikey={API_KEY}

# å®æ—¶æŠ¥ä»·
GET https://financialmodelingprep.com/api/v3/quote/AAPL?apikey={API_KEY}
```

**è¯„åˆ†**: 7.5/10

---

### 6. ğŸ’¡ IEX Cloud

**å®˜ç½‘**: https://iexcloud.io/

**å…è´¹é¢åº¦**:
- 50,000æ¬¡/æœˆ â­â­â­â­â­
- æ— åˆ†é’Ÿé™åˆ¶
- éœ€è¦æ³¨å†Œ

**æ•°æ®è´¨é‡**: â­â­â­â­â­

**æ”¯æŒå¸‚åœº**: ç¾è‚¡

**ä¼˜ç‚¹**:
- âœ… æœˆé¢åº¦æé«˜
- âœ… æ•°æ®æƒå¨ï¼ˆIEXäº¤æ˜“æ‰€ï¼‰
- âœ… APIè®¾è®¡ä¼˜ç§€
- âœ… æ–‡æ¡£å®Œå–„

**ç¼ºç‚¹**:
- âš ï¸ ä»…ç¾è‚¡
- âš ï¸ å…è´¹ç‰ˆæœ‰15åˆ†é’Ÿå»¶è¿Ÿ

**APIç¤ºä¾‹**:
```python
# å†å²Kçº¿
GET https://cloud.iexapis.com/stable/stock/aapl/chart/1m?token={API_KEY}

# å®æ—¶æŠ¥ä»·
GET https://cloud.iexapis.com/stable/stock/aapl/quote?token={API_KEY}
```

**è¯„åˆ†**: 8.5/10 â­ **æ¨è**

---

## ğŸ¯ æ¨èæ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šåŸºç¡€ç»„åˆï¼ˆ3æ•°æ®æºï¼‰

| æ•°æ®æº | é¢åº¦ | ä¼˜å…ˆçº§ | ç”¨é€” |
|--------|------|--------|------|
| **Finnhub** | 60æ¬¡/åˆ†é’Ÿ | ğŸ¥‡ ä¸»åŠ› | æ—¥å¸¸æŸ¥è¯¢ |
| **Twelve Data** | 800æ¬¡/å¤© | ğŸ¥ˆ å¤‡ç”¨ | è¡¥å……æŸ¥è¯¢ |
| **Alpha Vantage** | 500æ¬¡/å¤© | ğŸ¥‰ å¤‡ä»½ | æ•…éšœè½¬ç§» |

**æ€»èƒ½åŠ›**: 
- åˆ†é’Ÿçº§: 60æ¬¡/åˆ†é’Ÿ
- æ—¥çº§: 1800æ¬¡/å¤©

---

### æ–¹æ¡ˆäºŒï¼šå¢å¼ºç»„åˆï¼ˆ5æ•°æ®æºï¼‰ â­ æ¨è

| æ•°æ®æº | é¢åº¦ | ä¼˜å…ˆçº§ | ç”¨é€” |
|--------|------|--------|------|
| **Finnhub** | 60æ¬¡/åˆ†é’Ÿ | ğŸ¥‡ ä¸»åŠ› | é«˜é¢‘æŸ¥è¯¢ |
| **IEX Cloud** | 50,000æ¬¡/æœˆ | ğŸ¥‡ ä¸»åŠ› | æ—¥å¸¸æŸ¥è¯¢ |
| **Twelve Data** | 800æ¬¡/å¤© | ğŸ¥ˆ å¤‡ç”¨ | è¡¥å……æŸ¥è¯¢ |
| **Alpha Vantage** | 500æ¬¡/å¤© | ğŸ¥‰ å¤‡ä»½ | æ•…éšœè½¬ç§» |
| **Yahoo Finance** | ä¸é™ | ğŸ†˜ å…œåº• | æœ€ç»ˆå¤‡ä»½ |

**æ€»èƒ½åŠ›**:
- åˆ†é’Ÿçº§: 60æ¬¡/åˆ†é’Ÿ
- æ—¥çº§: ~2,967æ¬¡/å¤©
- æœˆçº§: ~50,000æ¬¡/æœˆ

**ç†è®ºæœ€å¤§**: åŸºæœ¬ä¸ä¼šå—é™ âœ…

---

## ğŸ”„ æ™ºèƒ½è½®è¯¢ç­–ç•¥

### ç­–ç•¥1: ä¼˜å…ˆçº§è½®è¯¢

```python
providers = [
    {"name": "finnhub", "priority": 1, "weight": 40},
    {"name": "iex", "priority": 1, "weight": 30},
    {"name": "twelvedata", "priority": 2, "weight": 15},
    {"name": "alphavantage", "priority": 3, "weight": 10},
    {"name": "yahoo", "priority": 4, "weight": 5},
]
```

**è§„åˆ™**:
1. ä¼˜å…ˆä½¿ç”¨priority=1çš„æ•°æ®æº
2. æŒ‰weightåˆ†é…è¯·æ±‚ï¼ˆè´Ÿè½½å‡è¡¡ï¼‰
3. å¤±è´¥æ—¶é™çº§åˆ°ä¸‹ä¸€ä¼˜å…ˆçº§
4. è®°å½•æ¯ä¸ªæºçš„æˆåŠŸç‡

---

### ç­–ç•¥2: æ™ºèƒ½è´Ÿè½½å‡è¡¡

```python
# æ ¹æ®å‰©ä½™é¢åº¦åŠ¨æ€è°ƒæ•´
if finnhub.remaining > 50:
    use finnhub (weight=50%)
elif iex.remaining > 1000:
    use iex (weight=40%)
else:
    use others
```

---

### ç­–ç•¥3: æ•…éšœè‡ªåŠ¨è½¬ç§»

```
è¯·æ±‚ â†’ Finnhub (å¤±è´¥) 
     â†’ IEX (å¤±è´¥) 
     â†’ Twelve Data (æˆåŠŸ) âœ…
```

**ç»Ÿè®¡**:
- æˆåŠŸç‡è¿½è¸ª
- å“åº”æ—¶é—´ç›‘æ§
- è‡ªåŠ¨å±è”½æ•…éšœæº

---

## ğŸ“Š å®æ–½è®¡åˆ’

### é˜¶æ®µ1: å¿«é€Ÿå®ç°ï¼ˆæ¨èï¼‰â­

**å®ç°æ•°æ®æº**:
1. âœ… Yahoo Finance (å·²æœ‰)
2. âœ… Alpha Vantage (å·²æœ‰)
3. ğŸ†• Finnhub (æ–°å¢)
4. ğŸ†• Twelve Data (æ–°å¢)

**é¢„æœŸæ•ˆæœ**:
- æ—¥è®¿é—®èƒ½åŠ›: 1300+ æ¬¡/å¤©
- åˆ†é’Ÿèƒ½åŠ›: 60æ¬¡/åˆ†é’Ÿ
- å¯é æ€§: 99%+

**å¼€å‘æ—¶é—´**: 2-3å°æ—¶

---

### é˜¶æ®µ2: å®Œæ•´æ–¹æ¡ˆ

**å®ç°æ•°æ®æº**:
1. âœ… Yahoo Finance
2. âœ… Alpha Vantage
3. ğŸ†• Finnhub
4. ğŸ†• Twelve Data
5. ğŸ†• IEX Cloud

**é¢„æœŸæ•ˆæœ**:
- æ—¥è®¿é—®èƒ½åŠ›: è¿‘ä¹æ— é™
- åˆ†é’Ÿèƒ½åŠ›: 60æ¬¡/åˆ†é’Ÿ
- å¯é æ€§: 99.9%+

**å¼€å‘æ—¶é—´**: 4-5å°æ—¶

---

## ğŸ”‘ API Key è·å–

### Finnhub
1. è®¿é—®: https://finnhub.io/register
2. æ³¨å†Œè´¦å·ï¼ˆå…è´¹ï¼‰
3. è·å–API Key
4. é™é¢: 60æ¬¡/åˆ†é’Ÿ

### Twelve Data
1. è®¿é—®: https://twelvedata.com/pricing
2. é€‰æ‹©Free Plan
3. è·å–API Key
4. é™é¢: 800æ¬¡/å¤©, 8æ¬¡/åˆ†é’Ÿ

### IEX Cloud
1. è®¿é—®: https://iexcloud.io/console/
2. æ³¨å†Œè´¦å·
3. åˆ›å»ºToken
4. é™é¢: 50,000æ¬¡/æœˆ

---

## ğŸ’¡ æ™ºèƒ½è·¯ç”±ç®—æ³•

### ç®—æ³•1: åŠ æƒè½®è¯¢

```python
def select_provider():
    # è®¡ç®—æ¯ä¸ªproviderçš„å¾—åˆ†
    for provider in providers:
        score = (
            provider.weight * 0.4 +           # æƒé‡
            provider.success_rate * 0.3 +     # æˆåŠŸç‡
            provider.remaining_quota * 0.2 +  # å‰©ä½™é¢åº¦
            (1/provider.avg_response_time) * 0.1  # å“åº”é€Ÿåº¦
        )
    
    return max(providers, key=lambda p: p.score)
```

### ç®—æ³•2: åŠ¨æ€é™çº§

```python
def get_data_with_fallback(symbol):
    for provider in sorted_providers:
        try:
            if provider.is_available():
                return provider.get_data(symbol)
        except RateLimitError:
            continue  # å°è¯•ä¸‹ä¸€ä¸ª
        except Exception as e:
            log_error(e)
            continue
    
    raise NoProviderAvailable()
```

---

## ğŸ“ˆ é¢„æœŸæ”¶ç›Š

### ç³»ç»Ÿå¯ç”¨æ€§æå‡

| æŒ‡æ ‡ | å•æº | åŒæº | 5æº | æå‡ |
|------|------|------|-----|------|
| å¯ç”¨æ€§ | 70% | 95% | 99.9% | +29.9% |
| æ—¥è¯·æ±‚ | 500 | 1000 | 2967 | +493% |
| åˆ†é’Ÿè¯·æ±‚ | 5 | 10 | 60 | +1100% |

### ç”¨æˆ·ä½“éªŒæå‡

- âœ… å‡ ä¹ä¸ä¼šé‡åˆ°é™æµ
- âœ… å“åº”é€Ÿåº¦æ›´å¿«ï¼ˆè´Ÿè½½å‡è¡¡ï¼‰
- âœ… æ•°æ®æ›´å¯é ï¼ˆå¤šæºéªŒè¯ï¼‰
- âœ… æ•…éšœè‡ªåŠ¨æ¢å¤

---

## ğŸ¯ æ¨èè¡ŒåŠ¨

### ç«‹å³å®æ–½ï¼ˆé˜¶æ®µ1ï¼‰

**æ–°å¢æ•°æ®æº**:
1. ğŸ†• Finnhub - é«˜é¢‘ä¸»åŠ›
2. ğŸ†• Twelve Data - ç¨³å®šè¡¥å……

**é…ç½®ç¤ºä¾‹**:
```bash
# .env
MARKET_DATA_PROVIDER=multi
DATA_SOURCES=yahoo,alphavantage,finnhub,twelvedata

# API Keys
ALPHA_VANTAGE_API_KEY=your_key
FINNHUB_API_KEY=your_key
TWELVEDATA_API_KEY=your_key
```

**é¢„æœŸ**:
- å¼€å‘: 2-3å°æ—¶
- æµ‹è¯•: 1å°æ—¶
- æ—¥è¯·æ±‚èƒ½åŠ›: 1300+æ¬¡
- å¯ç”¨æ€§: 99%+

### å¯é€‰å¢å¼ºï¼ˆé˜¶æ®µ2ï¼‰

**é¢å¤–å¢åŠ **:
3. ğŸ†• IEX Cloud - æœˆåº¦å¤§é¢åº¦

**é¢„æœŸ**:
- æ—¥è¯·æ±‚èƒ½åŠ›: è¿‘ä¹æ— é™
- å¯ç”¨æ€§: 99.9%+

---

## ğŸ“ æ€»ç»“

### æœ€ä½³æ–¹æ¡ˆ

**æ¨èä½¿ç”¨4æ•°æ®æºç»„åˆ**:

| æ•°æ®æº | ä¼˜å…ˆçº§ | ç”¨é€” |
|--------|--------|------|
| Finnhub | ğŸ¥‡ | æ—¥å¸¸é«˜é¢‘ |
| Twelve Data | ğŸ¥‡ | æ—¥å¸¸è¡¥å…… |
| Alpha Vantage | ğŸ¥ˆ | å¤‡ç”¨ |
| Yahoo Finance | ğŸ¥‰ | å…œåº• |

**æ€»èƒ½åŠ›**: 
- 1300+ æ¬¡/å¤©
- 60æ¬¡/åˆ†é’Ÿ
- 99%+ å¯ç”¨æ€§
- 0é¢å¤–æˆæœ¬

**æŠ•å…¥äº§å‡ºæ¯”**: â­â­â­â­â­

---

**è°ƒç ”æ—¥æœŸ**: 2025-10-16  
**è°ƒç ”äººå‘˜**: AI Assistant  
**ä¸‹ä¸€æ­¥**: å®ç°å¤šæ•°æ®æºProvider

