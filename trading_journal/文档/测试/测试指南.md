# ğŸš€ ç³»ç»Ÿè”è°ƒæµ‹è¯•æŒ‡å—

## âœ… ç³»ç»ŸçŠ¶æ€

### å½“å‰è¿è¡ŒçŠ¶æ€
- **å‰ç«¯**: âœ… è¿è¡Œä¸­ http://localhost:3000
- **åç«¯**: âœ… è¿è¡Œä¸­ http://localhost:8000  
- **æ•°æ®åº“**: âœ… MySQL (448åªè‚¡ç¥¨)
- **æ–°ç­–ç•¥**: âœ… å·²åŠ è½½å¹¶å¯ç”¨

### å·²å®ç°çš„ç­–ç•¥
1. âœ… EMA55å›è¸©ä¼ç¨³ç­–ç•¥ (ema55_pullback)
2. âœ… å‡çº¿ç¼ ç»•ç­–ç•¥ (ma_entanglement) **[æ–°å¢]**
3. âœ… é¾™å¤´ç­–ç•¥ (leader_strategy) **[æ–°å¢]**

---

## ğŸ§ª æµ‹è¯•æ–¹æ³•

### æ–¹æ³•1: ä½¿ç”¨æµ‹è¯•å·¥å…·é¡µé¢ (æ¨èæ–°æ‰‹)

1. **æ‰“å¼€æµ‹è¯•å·¥å…·**
   ```bash
   open test_strategy.html
   # æˆ–ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€è¯¥æ–‡ä»¶
   ```

2. **åŠŸèƒ½è¯´æ˜**
   - ğŸ“Š ç³»ç»ŸçŠ¶æ€æ£€æŸ¥: éªŒè¯å‰åç«¯è¿æ¥
   - ğŸ¯ ç­–ç•¥ä¿¡æ¯æŸ¥çœ‹: æŸ¥çœ‹æ–°ç­–ç•¥çš„è¯¦ç»†ä¿¡æ¯
   - ğŸ”§ æ•°æ®ç®¡ç†: æŸ¥çœ‹åŒæ­¥ä»»åŠ¡çŠ¶æ€

### æ–¹æ³•2: ä½¿ç”¨å‰ç«¯é¡µé¢ (æ¨è)

1. **è®¿é—®ç­–ç•¥ç®¡ç†é¡µé¢**
   ```
   http://localhost:3000/strategy
   ```

2. **æµ‹è¯•æ–°ç­–ç•¥**
   
   a) **æµ‹è¯•å‡çº¿ç¼ ç»•ç­–ç•¥**
   - åœ¨å·¦ä¾§ç­–ç•¥åˆ—è¡¨ä¸­æ‰¾åˆ°"å‡çº¿ç¼ ç»•çªç ´ç­–ç•¥"
   - ç‚¹å‡»ç­–ç•¥å¡ç‰‡æŸ¥çœ‹è¯¦æƒ…
   - ç‚¹å‡»"æ‰§è¡Œ"æŒ‰é’®è¿›è¡ŒåŒæ­¥æ‰§è¡Œ
   - æˆ–ç‚¹å‡»"å¼‚æ­¥"æŒ‰é’®è¿›è¡Œåå°æ‰§è¡Œ
   - æŸ¥çœ‹å³ä¾§çš„æ‰§è¡Œç»“æœå’Œé€‰è‚¡æ¨è

   b) **æµ‹è¯•é¾™å¤´ç­–ç•¥**
   - åœ¨å·¦ä¾§ç­–ç•¥åˆ—è¡¨ä¸­æ‰¾åˆ°"é¾™å¤´æˆ˜æ³•"
   - ç‚¹å‡»ç­–ç•¥å¡ç‰‡æŸ¥çœ‹è¯¦æƒ…
   - ç‚¹å‡»"æ‰§è¡Œ"æŒ‰é’®
   - æŸ¥çœ‹ç­›é€‰å‡ºçš„é¾™å¤´è‚¡ç¥¨

   c) **æµ‹è¯•æ‰€æœ‰ç­–ç•¥**
   - ç‚¹å‡»é¡¶éƒ¨çš„"æ‰§è¡Œæ‰€æœ‰ç­–ç•¥"æŒ‰é’®
   - ç³»ç»Ÿä¼šä¾æ¬¡æ‰§è¡Œæ‰€æœ‰å¯ç”¨çš„ç­–ç•¥
   - ç»“æœä¼šåˆå¹¶æ˜¾ç¤º

### æ–¹æ³•3: ä½¿ç”¨APIç›´æ¥æµ‹è¯•

1. **æŸ¥çœ‹æ‰€æœ‰ç­–ç•¥**
   ```bash
   curl http://localhost:8000/api/v1/strategies/ | python3 -m json.tool
   ```

2. **æŸ¥çœ‹APIæ–‡æ¡£**
   ```bash
   open http://localhost:8000/docs
   ```

3. **åœ¨Swagger UIä¸­æµ‹è¯•**
   - è®¿é—® http://localhost:8000/docs
   - æ‰¾åˆ°ç­–ç•¥ç›¸å…³çš„APIç«¯ç‚¹
   - ç‚¹å‡»"Try it out"è¿›è¡Œæµ‹è¯•

---

## ğŸ“Š æ–°ç­–ç•¥è¯¦è§£

### 1. å‡çº¿ç¼ ç»•ç­–ç•¥ (ma_entanglement)

**ç­–ç•¥é€»è¾‘**:
- æ£€æµ‹5æ—¥ã€10æ—¥ã€20æ—¥å‡çº¿ç¼ ç»•å½¢æ€
- è¯†åˆ«ç¼ ç»•åçš„å‘ä¸Šçªç ´æœºä¼š
- æˆäº¤é‡é…åˆç¡®è®¤

**è¯„åˆ†æ ‡å‡†** (æ»¡åˆ†100):
| æŒ‡æ ‡ | åˆ†æ•° | è¯´æ˜ |
|------|------|------|
| å‡çº¿ç¼ ç»•ç´§å¯†åº¦ | 0-30 | ä¸‰æ¡å‡çº¿è·ç¦»è¶Šè¿‘åˆ†æ•°è¶Šé«˜ |
| ä»·æ ¼çªç ´ | 0-40 | çªç ´æ‰€æœ‰å‡çº¿å¾—åˆ†æœ€é«˜ |
| å‡çº¿å¤šå¤´æ’åˆ— | 0-20 | MA5>MA10>MA20 |
| æˆäº¤é‡æ”¾å¤§ | 0-15 | çªç ´æ—¶æ”¾é‡ç¡®è®¤ |
| ä»·æ ¼èµ°åŠ¿ | 0-10 | è¿‘æœŸä¸Šæ¶¨å¤©æ•° |

**ç­›é€‰æ¡ä»¶**: è¯„åˆ† â‰¥ 60åˆ†

### 2. é¾™å¤´ç­–ç•¥ (leader_strategy)

**ç­–ç•¥é€»è¾‘**:
- è¯†åˆ«æ¿å—æˆ–å¸‚åœºä¸­çš„é¾™å¤´è‚¡ç¥¨
- å¤šç»´åº¦ç»¼åˆè¯„åˆ†
- ç›¸å¯¹æ’åç­›é€‰

**è¯„åˆ†æ ‡å‡†** (æ»¡åˆ†100+):
| æŒ‡æ ‡ | åˆ†æ•° | è¯´æ˜ |
|------|------|------|
| æ¶¨å¹…è¡¨ç° | 0-55 | 5æ—¥/10æ—¥/20æ—¥æ¶¨å¹… |
| æˆäº¤é‡æ”¾å¤§ | 0-20 | è¿‘æœŸç›¸å¯¹æ”¾é‡æƒ…å†µ |
| è¿ç»­ä¸Šæ¶¨ | 0-20 | è¿ç»­ä¸Šæ¶¨å¤©æ•° |
| åˆ›æ–°é«˜ | 0-15 | 60æ—¥æ–°é«˜çªç ´èƒ½åŠ› |
| å›æ’¤æ§åˆ¶ | 0-10 | ä»é«˜ç‚¹å›æ’¤å¹…åº¦ |
| æŒ¯å¹…ç¨³å®š | 0-10 | æ—¥å‡æŒ¯å¹…æ§åˆ¶ |

**ç­›é€‰æ¡ä»¶**: 
- è¯„åˆ† â‰¥ 60åˆ†
- ä¸”åœ¨æ‰€æœ‰è‚¡ç¥¨ä¸­æ’åå‰30%

---

## ğŸ” è°ƒè¯•æŠ€å·§

### 1. æŸ¥çœ‹å®æ—¶æ—¥å¿—

```bash
# åç«¯æ—¥å¿—
tail -f backend.dev.log

# å‰ç«¯æ—¥å¿—  
tail -f frontend.dev.log

# åªçœ‹ç­–ç•¥ç›¸å…³æ—¥å¿—
tail -f backend.dev.log | grep -E "ç­–ç•¥|strategy"
```

### 2. æ£€æŸ¥ç­–ç•¥åŠ è½½

```bash
# æŸ¥çœ‹æœ€è¿‘çš„ç­–ç•¥åŠ è½½ä¿¡æ¯
tail -100 backend.dev.log | grep -E "æ³¨å†Œç­–ç•¥|ç­–ç•¥å·²åŠ è½½"
```

### 3. æ•°æ®æ£€æŸ¥

```bash
# æ£€æŸ¥è‚¡ç¥¨æ•°é‡
curl -s "http://localhost:8000/api/v1/stocks/overview?page=1&page_size=1" \
  | python3 -m json.tool | grep total

# æ£€æŸ¥æœ‰æ•°æ®çš„è‚¡ç¥¨
tail -50 backend.dev.log | grep "æœ‰è¶³å¤Ÿæ•°æ®"
```

### 4. å¸¸è§é—®é¢˜æ’æŸ¥

**é—®é¢˜1: ç­–ç•¥æ‰§è¡Œæ— ç»“æœ**
- æ£€æŸ¥æ•°æ®åº“ä¸­æ˜¯å¦æœ‰è¶³å¤Ÿçš„Kçº¿æ•°æ®
- æŸ¥çœ‹åç«¯æ—¥å¿—ä¸­çš„"æœ‰è¶³å¤Ÿæ•°æ®"æ¶ˆæ¯
- å¯èƒ½éœ€è¦å…ˆè¿›è¡Œæ•°æ®åŒæ­¥

**é—®é¢˜2: å‰ç«¯æ˜¾ç¤ºç­–ç•¥ä½†æ— æ³•æ‰§è¡Œ**
- æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯
- æ£€æŸ¥ç½‘ç»œè¯·æ±‚æ˜¯å¦æˆåŠŸ

**é—®é¢˜3: ç­–ç•¥åŠ è½½å¤±è´¥**
- æŸ¥çœ‹åç«¯æ—¥å¿—ä¸­çš„ERRORä¿¡æ¯
- æ£€æŸ¥ç­–ç•¥æ–‡ä»¶æ˜¯å¦æ­£ç¡®åˆ›å»º
- ç¡®è®¤StrategyFactoryä¸­æ˜¯å¦æ­£ç¡®æ³¨å†Œ

---

## ğŸ“ æµ‹è¯•æ¸…å•

### åŸºç¡€æµ‹è¯•
- [ ] å‰åç«¯æœåŠ¡éƒ½åœ¨è¿è¡Œ
- [ ] èƒ½è®¿é—®å‰ç«¯é¡µé¢ (http://localhost:3000)
- [ ] èƒ½è®¿é—®åç«¯API (http://localhost:8000/docs)
- [ ] ç­–ç•¥åˆ—è¡¨ä¸­èƒ½çœ‹åˆ°æ–°å¢çš„ä¸¤ä¸ªç­–ç•¥

### åŠŸèƒ½æµ‹è¯•
- [ ] èƒ½åœ¨å‰ç«¯é¡µé¢é€‰æ‹©"å‡çº¿ç¼ ç»•ç­–ç•¥"
- [ ] ç‚¹å‡»æ‰§è¡ŒæŒ‰é’®èƒ½æ­£å¸¸è¿è¡Œ
- [ ] èƒ½çœ‹åˆ°ç­–ç•¥æ‰§è¡Œç»“æœ
- [ ] èƒ½åœ¨å‰ç«¯é¡µé¢é€‰æ‹©"é¾™å¤´ç­–ç•¥"
- [ ] ç‚¹å‡»æ‰§è¡ŒæŒ‰é’®èƒ½æ­£å¸¸è¿è¡Œ
- [ ] èƒ½çœ‹åˆ°ç­›é€‰å‡ºçš„é¾™å¤´è‚¡ç¥¨
- [ ] "æ‰§è¡Œæ‰€æœ‰ç­–ç•¥"åŠŸèƒ½æ­£å¸¸

### æ•°æ®æµ‹è¯•
- [ ] æ‰§è¡Œç»“æœä¸­åŒ…å«è¯„åˆ†ä¿¡æ¯
- [ ] åŒ…å«ç½®ä¿¡åº¦ã€å»ºè®®æ“ä½œç­‰å­—æ®µ
- [ ] ç›®æ ‡ä»·å’Œæ­¢æŸä»·è®¡ç®—æ­£ç¡®
- [ ] é€‰è‚¡ç†ç”±æ¸…æ™°æ˜ç¡®

---

## ğŸ¯ ä¸‹ä¸€æ­¥

1. **å¦‚æœä¸€åˆ‡æ­£å¸¸**:
   - å¼€å§‹ä½¿ç”¨æ–°ç­–ç•¥è¿›è¡Œé€‰è‚¡
   - è§‚å¯Ÿç­–ç•¥è¡¨ç°å¹¶è°ƒæ•´å‚æ•°
   - è®°å½•é€‰è‚¡ç»“æœç”¨äºå›æµ‹

2. **å¦‚æœå‘ç°é—®é¢˜**:
   - æŸ¥çœ‹åç«¯æ—¥å¿—å®šä½é”™è¯¯
   - æ£€æŸ¥æ•°æ®è´¨é‡å’Œå®Œæ•´æ€§
   - æ ¹æ®é”™è¯¯ä¿¡æ¯è°ƒæ•´ç­–ç•¥å‚æ•°

3. **ä¼˜åŒ–å»ºè®®**:
   - æ ¹æ®å®é™…é€‰è‚¡æ•ˆæœè°ƒæ•´è¯„åˆ†æƒé‡
   - æ·»åŠ æ›´å¤šç­›é€‰æ¡ä»¶
   - å®ç°ç­–ç•¥å‚æ•°é…ç½®åŠŸèƒ½

---

## ğŸ“ å¿«é€Ÿå‘½ä»¤

```bash
# æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€
ps aux | grep -E "(python run.py|next)" | grep -v grep

# é‡å¯åç«¯
kill $(cat backend.dev.pid) && cd zhixing_backend && \
  export DATABASE_URL="mysql+pymysql://root:shuzhongren@101.42.14.209:3306/zhixing_trader" && \
  python run.py > ../backend.dev.log 2>&1 & echo $! > ../backend.dev.pid

# æŸ¥çœ‹ç­–ç•¥åˆ—è¡¨
curl -s http://localhost:8000/api/v1/strategies/ | \
  python3 -m json.tool | jq '.data.strategies[] | {id, name, impl_type}'

# æŸ¥çœ‹æœ€è¿‘æ—¥å¿—
tail -30 backend.dev.log

# æ‰“å¼€æµ‹è¯•å·¥å…·
open test_strategy.html

# æ‰“å¼€å‰ç«¯ç­–ç•¥é¡µé¢
open http://localhost:3000/strategy

# æ‰“å¼€APIæ–‡æ¡£
open http://localhost:8000/docs
```

---

## ğŸ’¡ æç¤º

- æ–°ç­–ç•¥çš„è¯„åˆ†ç®—æ³•å·²ç»è¿‡ä¼˜åŒ–ï¼Œå¯ä»¥æ ¹æ®å®é™…æ•ˆæœè¿›ä¸€æ­¥è°ƒæ•´
- å»ºè®®å…ˆä½¿ç”¨"å¼‚æ­¥æ‰§è¡Œ"æ¨¡å¼ï¼Œé¿å…é˜»å¡æµè§ˆå™¨
- ç­–ç•¥æ‰§è¡Œå¯èƒ½éœ€è¦å‡ ç§’åˆ°å‡ åç§’ï¼Œå–å†³äºè‚¡ç¥¨æ•°é‡
- å¯ä»¥åœ¨å‰ç«¯é¡µé¢å®æ—¶æŸ¥çœ‹æ‰§è¡Œè¿›åº¦

ç¥è°ƒè¯•é¡ºåˆ©ï¼ğŸ‰
