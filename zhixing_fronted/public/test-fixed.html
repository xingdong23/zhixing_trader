<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¿®å¤éªŒè¯ - è‚¡ç¥¨è¯¦æƒ…é¡µé¢æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .test-link {
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            transition: transform 0.2s;
            text-align: center;
        }
        .test-link:hover {
            transform: translateY(-2px);
        }
        .status {
            margin: 10px 0;
            padding: 15px;
            border-radius: 8px;
            font-weight: bold;
        }
        .success {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #6ee7b7;
        }
        .error {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #fecaca;
        }
        .info {
            background: #dbeafe;
            color: #1e40af;
            border: 1px solid #93c5fd;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ‰ ä¿®å¤å®ŒæˆéªŒè¯</h1>
        
        <div class="status success">
            âœ… å‰ç«¯å›¾è¡¨é”™è¯¯å·²ä¿®å¤ï¼šæ­£ç¡®é…ç½®äº†Rechartsçš„Yè½´<br>
            âœ… åç«¯Kçº¿APIé”™è¯¯å·²ä¿®å¤ï¼šå¤„ç†äº†datetimeå­—æ®µç±»å‹é—®é¢˜
        </div>

        <div class="status info">
            ğŸ“Š ç°åœ¨Kçº¿å›¾åº”è¯¥å¯ä»¥æ­£å¸¸æ˜¾ç¤ºçœŸå®çš„è‚¡ç¥¨æ•°æ®äº†ï¼
        </div>

        <h3>ğŸš€ æµ‹è¯•ä¿®å¤åçš„åŠŸèƒ½</h3>
        <div class="test-links">
            <a href="http://localhost:3000/stock/AAPL" class="test-link" target="_blank">
                ğŸ“ˆ AAPL - è‹¹æœå…¬å¸<br>
                <small>æµ‹è¯•çœŸå®Kçº¿æ•°æ®</small>
            </a>
            <a href="http://localhost:3000/stock/TSLA" class="test-link" target="_blank">
                ğŸš— TSLA - ç‰¹æ–¯æ‹‰<br>
                <small>æµ‹è¯•å›¾è¡¨ç»„ä»¶ä¿®å¤</small>
            </a>
            <a href="http://localhost:3000/stock/COST" class="test-link" target="_blank">
                ğŸ›’ COST - å¥½å¸‚å¤š<br>
                <small>æµ‹è¯•åç«¯APIä¿®å¤</small>
            </a>
            <a href="http://localhost:3000/stock/HK0000720786" class="test-link" target="_blank">
                ğŸ’° HK0000720786 - å¹³å®‰åŸºé‡‘<br>
                <small>æµ‹è¯•æ¸¯è‚¡æ•°æ®</small>
            </a>
        </div>

        <h3>ğŸ”§ ä¿®å¤å†…å®¹è¯¦æƒ…</h3>
        <div class="info">
            <h4>å‰ç«¯ä¿®å¤ (KLineChart.tsx):</h4>
            <ul>
                <li>ä¸ºä»·æ ¼æ•°æ®æ·»åŠ äº†ä¸“ç”¨çš„Yè½´ (yAxisId="price")</li>
                <li>ä¸ºæˆäº¤é‡æ•°æ®æ·»åŠ äº†å³ä¾§Yè½´ (yAxisId="volume")</li>
                <li>ä¿®å¤äº†Recharts Barç»„ä»¶çš„yAxisIdé…ç½®é”™è¯¯</li>
                <li>ä¼˜åŒ–äº†Yè½´åˆ»åº¦æ˜¾ç¤ºæ ¼å¼</li>
            </ul>

            <h4>åç«¯ä¿®å¤ (market_data.py):</h4>
            <ul>
                <li>ä¿®å¤äº†datetimeå­—æ®µçš„ç±»å‹å¤„ç†é—®é¢˜</li>
                <li>æ·»åŠ äº†å¯¹å­—ç¬¦ä¸²å’Œdatetimeå¯¹è±¡çš„å…¼å®¹å¤„ç†</li>
                <li>ç¡®ä¿APIè¿”å›æ­£ç¡®æ ¼å¼çš„æ—¶é—´æ•°æ®</li>
                <li>æé«˜äº†é”™è¯¯å¤„ç†çš„å¥å£®æ€§</li>
            </ul>
        </div>

        <h3>ğŸ¯ é¢„æœŸæ•ˆæœ</h3>
        <div class="status success">
            <ul>
                <li>âœ… è‚¡ç¥¨è¯¦æƒ…é¡µé¢ä¸å†æŠ¥é”™</li>
                <li>âœ… Kçº¿å›¾å¯ä»¥æ­£å¸¸æ˜¾ç¤º</li>
                <li>âœ… æ˜¾ç¤ºçœŸå®çš„è‚¡ç¥¨ä»·æ ¼å’Œæˆäº¤é‡æ•°æ®</li>
                <li>âœ… æ”¯æŒæ—¶é—´å‘¨æœŸåˆ‡æ¢åŠŸèƒ½</li>
                <li>âœ… å›¾è¡¨äº¤äº’åŠŸèƒ½æ­£å¸¸</li>
            </ul>
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <a href="http://localhost:3000" style="padding: 15px 30px; background: #3b82f6; color: white; text-decoration: none; border-radius: 8px; font-weight: bold;">
                ğŸ  è¿”å›ä¸»é¡µ
            </a>
        </div>
    </div>

    <script>
        // è‡ªåŠ¨æµ‹è¯•APIçŠ¶æ€
        async function testAPIStatus() {
            try {
                const response = await fetch('http://localhost:8000/api/v1/market-data/klines/AAPL?timeframe=1d&days=2');
                const data = await response.json();
                
                if (data.success) {
                    console.log('âœ… Kçº¿APIæµ‹è¯•æˆåŠŸ:', data.data.klines.length, 'æ¡æ•°æ®');
                } else {
                    console.log('âŒ Kçº¿APIæµ‹è¯•å¤±è´¥:', data);
                }
            } catch (error) {
                console.log('âŒ APIè¿æ¥å¤±è´¥:', error.message);
            }
        }

        // é¡µé¢åŠ è½½åæµ‹è¯•
        window.onload = function() {
            setTimeout(testAPIStatus, 1000);
        };
    </script>
</body>
</html>
