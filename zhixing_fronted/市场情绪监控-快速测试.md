# 市场情绪监控 - 快速测试指南

## 快速访问

### 方式1: 直接访问
1. 确保前端已启动（`pnpm dev`）
2. 打开浏览器访问：http://localhost:3001
3. 在左侧导航栏点击"市场情绪"

### 方式2: URL直接跳转
访问：http://localhost:3001#sentiment

## 功能测试清单

### ✅ 基础显示测试
- [ ] 页面正常加载
- [ ] 显示恐慌贪婪指数（0-100的数值）
- [ ] 显示标普500基准值
- [ ] 显示情绪等级标签（极度恐慌/恐慌/中性/贪婪/极度贪婪）
- [ ] 显示策略建议（小盘股/大盘股）
- [ ] 显示更新时间戳

### ✅ 可视化测试
- [ ] 恐慌贪婪指数进度条正常显示
- [ ] 标普500基准进度条正常显示
- [ ] 情绪等级颜色正确（红色=恐慌，绿色=贪婪）
- [ ] 策略建议卡片颜色正确（绿色=小盘股，蓝色=大盘股）

### ✅ 交互测试
- [ ] 点击"立即刷新数据"按钮
- [ ] 按钮显示"更新中..."状态
- [ ] 数据成功更新
- [ ] 时间戳更新为最新时间

### ✅ 策略逻辑测试
测试不同情况下的策略建议：

**场景1: 恐慌贪婪指数 > 标普500**
- 预期：显示"适合买入小盘股"
- 预期：绿色提示卡片
- 预期：显示上涨图标

**场景2: 恐慌贪婪指数 ≤ 标普500**
- 预期：显示"建议转向大盘股"
- 预期：蓝色提示卡片
- 预期：显示下降图标

### ✅ 自动更新测试
- [ ] 等待5分钟
- [ ] 观察数据是否自动更新
- [ ] 时间戳是否自动更新

## 测试数据示例

由于当前使用Mock数据，每次刷新会生成随机的恐慌贪婪指数（0-100）。

### 情绪等级对应关系
- 0-20: 极度恐慌（红色）
- 21-40: 恐慌（橙色）
- 41-60: 中性（黄色）
- 61-80: 贪婪（绿色）
- 81-100: 极度贪婪（深绿色）

### 策略建议对应关系
- 指数 > 50: 买入小盘股（绿色卡片）
- 指数 ≤ 50: 转向大盘股（蓝色卡片）

## 常见问题

### Q1: 页面显示空白
**解决方案：**
1. 检查浏览器控制台是否有错误
2. 确认前端服务正在运行
3. 尝试刷新页面（Cmd+R / Ctrl+R）

### Q2: 数据不更新
**解决方案：**
1. 点击"立即刷新数据"按钮
2. 检查浏览器控制台网络请求
3. 确认API接口返回正常

### Q3: 策略建议不符合预期
**解决方案：**
1. 检查恐慌贪婪指数和标普500的数值
2. 确认逻辑：指数 > 50 → 小盘股，指数 ≤ 50 → 大盘股
3. 查看详细说明文字

## API测试

### 测试API端点
```bash
# 使用curl测试
curl http://localhost:3001/api/market/sentiment

# 预期返回
{
  "success": true,
  "data": {
    "fearGreedIndex": 65,
    "sp500Index": 50,
    "sentiment": "greed",
    "recommendation": "small_cap",
    "timestamp": "2025-10-22T09:58:00.000Z",
    "source": "mock"
  }
}
```

### 使用浏览器测试
直接访问：http://localhost:3001/api/market/sentiment

## 下一步

### 集成真实数据
参考《市场情绪监控功能说明.md》中的"集成老虎证券API"章节

### 功能扩展
1. 添加历史趋势图
2. 添加自定义阈值设置
3. 添加提醒功能
4. 支持多市场

## 截图位置

建议截图保存以下内容：
1. 市场情绪监控主界面
2. 小盘股策略建议（指数>50时）
3. 大盘股策略建议（指数≤50时）
4. 不同情绪等级的显示效果

## 反馈

测试过程中如发现问题，请记录：
- 问题描述
- 复现步骤
- 预期行为
- 实际行为
- 浏览器和版本
- 截图（如有）
